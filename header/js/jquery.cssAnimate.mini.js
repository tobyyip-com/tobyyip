(function(d){var c=["Webkit","Moz","O","Ms","Khtml",""];d.fn.cssSetQueue=function(a,l){v=this;var k=v.data("cssQueue")?v.data("cssQueue"):[];var j=v.data("cssCall")?v.data("cssCall"):[];var i=0;var h={};d.each(l,function(f,e){h[f]=e});while(1){if(!j[i]){j[i]=h.complete;break}i++}h.complete=i;k.push([a,h]);v.data({cssQueue:k,cssRunning:true,cssCall:j})};d.fn.cssRunQueue=function(){v=this;var b=v.data("cssQueue")?v.data("cssQueue"):[];if(b[0]){v.cssEngine(b[0][0],b[0][1])}else{v.data("cssRunning",false)}b.shift();v.data("cssQueue",b)};d.cssMerge=function(a,f,e){d.each(f,function(g,b){d.each(e,function(h,i){a[i+g]=b})});return a};d.fn.cssAnimationData=function(f,e){var h=this;var g=h.data("cssAnimations");if(!g){g={}}if(!g[f]){g[f]=[]}g[f].push(e);h.data("cssAnimations",g);return g[f]};d.fn.cssAnimationRemove=function(){var a=this;var f=a.data("cssAnimations");var e=a.data("identity");d.each(f,function(h,g){f[h]=g.splice(e+1,1)});a.data("cssAnimations",f)};d.css3D=function(a){d("body").data("cssPerspective",isFinite(a)?a:a?1000:0).css(d.cssMerge({},{TransformStyle:a?"preserve-3d":"flat"},c))};d.cssAnimateSupport=function(){var a=false;d.each(c,function(f,e){a=document.body.style[e+"AnimationName"]!==undefined?true:a});return a};d.fn.cssEngine=function(G,F){function D(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()}var E=this;if(typeof F.complete=="number"){E.data("cssCallIndex",F.complete)}var C={linear:"linear",swing:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out"};var B={};var A=d("body").data("cssPerspective");if(G.transform){d.each(c,function(f,e){var k=e+(e?"T":"t")+"ransform";var i=E.css(D(k));var h=G.transform;if(!i||i=="none"){B[k]="scale(1)"}G[k]=(A&&!/perspective/gi.test(h)?"perspective("+A+") ":"")+h})}if(G.borderRadius){d.each(c,function(f,e){G[e+(e?"B":"b")+"orderRadius"]=G.borderRadius})}if(G.boxShadow){d.each(c,function(f,e){G[e+(e?"B":"b")+"oxShadow"]=G.boxShadow})}var z=[];d.each(G,function(f,e){z.push(D(f))});var y=false;var x=[];var w=[];for(var u=0;u<z.length;u++){x.push(String(F.duration/1000)+"s");w.push(C[F.easing])}x=E.cssAnimationData("dur",x.join(", ")).join(", ");w=E.cssAnimationData("eas",w.join(", ")).join(", ");var t=E.cssAnimationData("prop",z.join(", "));E.data("identity",t.length-1);t=t.join(", ");var s={TransitionDuration:x,TransitionProperty:t,TransitionTimingFunction:w};var b={};b=d.cssMerge(b,s,c);var a=G;d.extend(b,G);if(b.display=="callbackHide"){y=true}else{if(b.display){B.display=b.display}}E.css(B);setTimeout(function(){E.css(b);var e=E.data("runningCSS");e=!e?a:d.extend(e,a);E.data("runningCSS",e);setTimeout(function(){E.data("cssCallIndex","a");if(y){E.css("display","none")}E.cssAnimationRemove();if(F.queue){E.cssRunQueue()}if(typeof F.complete=="number"){E.data("cssCall")[F.complete].call(E);E.data("cssCall")[F.complete]=0}else{F.complete.call(E)}},F.duration)},0)};d.str2Speed=function(b){return isNaN(b)?b=="slow"?1000:b=="fast"?200:600:b};d.fn.cssAnimate=function(a,n,m,l){var k=this;var j={duration:0,easing:"swing",complete:function(){},queue:true};var i={};i=typeof n=="object"?n:{duration:n};i[m?typeof m=="function"?"complete":"easing":0]=m;i[l?"complete":0]=l;i.duration=d.str2Speed(i.duration);d.extend(j,i);if(d.cssAnimateSupport()){k.each(function(g,f){f=d(f);if(j.queue){var b=!f.data("cssRunning");f.cssSetQueue(a,j);if(b){f.cssRunQueue()}}else{f.cssEngine(a,j)}})}else{k.animate(a,j)}return k};d.cssPresetOptGen=function(f,e){var g={};g[f?typeof f=="function"?"complete":"easing":0]=f;g[e?"complete":0]=e;return g};d.fn.cssFadeTo=function(a,l,k,j){var i=this;opt=d.cssPresetOptGen(k,j);var h={opacity:l};opt.duration=a;if(d.cssAnimateSupport()){i.each(function(e,f){f=d(f);if(f.data("displayOriginal")!=f.css("display")&&f.css("display")!="none"){f.data("displayOriginal",f.css("display")?f.css("display"):"block")}else{f.data("displayOriginal","block")}h.display=l?f.data("displayOriginal"):"callbackHide";f.cssAnimate(h,opt)})}else{i.fadeTo(a,opt)}return i};d.fn.cssFadeOut=function(a,f,e){if(d.cssAnimateSupport()){if(!this.css("opacity")){this.css("opacity",1)}this.cssFadeTo(a,0,f,e)}else{this.fadeOut(a,f,e)}return this};d.fn.cssFadeIn=function(a,f,e){if(d.cssAnimateSupport()){if(this.css("opacity")){this.css("opacity",0)}this.cssFadeTo(a,1,f,e)}else{this.fadeIn(a,f,e)}return this};d.cssPx2Int=function(b){return b.split("p")[0]*1};d.fn.cssStop=function(){var b=this,a=0;b.data("cssAnimations",false).each(function(n,m){m=d(m);var l={TransitionDuration:"0s"};var k=m.data("runningCSS");var e={};if(k){d.each(k,function(f,i){i=isFinite(d.cssPx2Int(i))?d.cssPx2Int(i):i;var h=[0,1];var g={color:["#000","#fff"],background:["#000","#fff"],"float":["none","left"],clear:["none","left"],border:["none","0px solid #fff"],position:["absolute","relative"],family:["Arial","Helvetica"],display:["none","block"],visibility:["hidden","visible"],transform:["translate(0,0)","scale(1)"]};d.each(g,function(j,o){if((new RegExp(j,"gi")).test(f)){h=o}});e[f]=h[0]!=i?h[0]:h[1]})}else{k={}}l=d.cssMerge(e,l,c);m.css(l);setTimeout(function(){var f=d(b[a]);f.css(k).data({runningCSS:{},cssAnimations:{},cssQueue:[],cssRunning:false});if(typeof f.data("cssCallIndex")=="number"){f.data("cssCall")[f.data("cssCallIndex")].call(f)}f.data("cssCall",[]);a++},0)});return b};d.fn.cssDelay=function(b){return this.cssAnimate({},b)}})(jQuery);