(function(x,w){function m(h,g,b){var a=0;h.find(".creative_layer div").each(function(f){var d=x(this);if(d.data("_top")==w){d.data("_top",parseInt(d.css("top"),0))}if(d.data("_left")==w){d.data("_left",parseInt(d.css("left"),0))}if(d.data("_op")==w){d.data("_op",d.css("opacity"))}d.css({"z-index":1200});if(d.hasClass("fadeup")){d.animate({top:d.data("_top")+20+"px",opacity:0},{duration:0,queue:false}).delay(g+(a+1)*200).animate({top:d.data("_top")+"px",opacity:d.data("_op")},{duration:300,queue:true});a++}if(d.hasClass("faderight")){d.animate({left:d.data("_left")-20+"px",opacity:0},{duration:0,queue:false}).delay(g+(a+1)*200).animate({left:d.data("_left")+"px",opacity:d.data("_op")},{duration:300,queue:true});a++}if(d.hasClass("fadedown")){d.animate({top:d.data("_top")-20+"px",opacity:0},{duration:0,queue:false}).delay(g+(a+1)*200).animate({top:d.data("_top")+"px",opacity:d.data("_op")},{duration:300,queue:true});a++}if(d.hasClass("fadeleft")){d.animate({left:d.data("_left")+20+"px",opacity:0},{duration:0,queue:false}).delay(g+(a+1)*200).animate({left:d.data("_left")+"px",opacity:d.data("_op")},{duration:300,queue:true});a++}if(d.hasClass("fade")){d.animate({opacity:0},{duration:0,queue:false}).delay(g+(a+1)*200).animate({opacity:d.data("_op")},{duration:300,queue:true});a++}})}function n(a,j){j.cd=0;j.timer=j.timer*10;if(x.browser.msie){a.find(".paradigm_thumb_container #thumbmask .thumbsslide").cssAnimate({left:"0px"},{duration:300,queue:false})}else{a.find(".paradigm_thumb_container #thumbmask .thumbsslide").animate({left:"0px"},{duration:300,queue:false})}var i=a.find(".paradigm_thumb_container #thumbmask");var h=i.find(".thumbsslide");var g=a.find(".slide_mainmask");setInterval(function(){if(j.loaded==1){var f=a.data("currentSlide");var e=a.data("currentThumb");if(!i.hasClass("overme")&&!g.hasClass("overme")&&!g.hasClass("videoon")){j.cd=j.cd+1;var d=Math.floor(j.thumbWidth*(j.cd/j.timer));if(x.browser.msie){e.animate({left:d+"px"},{duration:20,queue:false})}else{e.cssAnimate({left:d+"px"},{duration:20,queue:false})}if(x.browser.msie){e.find("img").animate({left:0-d+"px"},{duration:20,queue:false})}else{e.find("img").cssAnimate({left:0-d+"px"},{duration:20,queue:false})}if(j.cd==j.timer){j.cd=0;if(f.index()<j.maxitem-1){var c=a.find("ul li:eq("+(f.index()+1)+")");o(f,c,a,j);var b=0-parseInt(e.parent().css("left"),0);h.css({position:"absolute"});if(Math.abs(b)<=a.data("thumbnailmaxdif")){if(x.browser.msie){h.animate({left:b+"px"},{duration:300,queue:false})}else{h.cssAnimate({left:b+"px"},{duration:300,queue:false})}}else{b=0-a.data("thumbnailmaxdif");if(x.browser.msie){h.animate({left:b+"px"},{duration:300,queue:false})}else{h.cssAnimate({left:b+"px"},{duration:300,queue:false})}}}else{o(f,a.find("ul li:first"),a,j);if(x.browser.msie){h.animate({left:"0px"},{duration:300,queue:false})}else{h.cssAnimate({left:"0px"},{duration:300,queue:false})}}}}}},100)}function o(H,G,F,E){var D=false;F.find("ul >li").each(function(c){var b=x(this);if(b.index()!=H.index()&&b.index()!=G.index()){b.css({display:"none",position:"absolute",left:"0px","z-index":"994"})}});var C=F.find(".slide_mainmask .video_paradigm");setTimeout(function(){C.remove()},600);var B=F.find(".slide_mainmask");B.removeClass("videoon");H.css({position:"absolute",top:"0px",left:"0px","z-index":"900"});G.css({position:"absolute",top:"0px",left:"0px","z-index":"1000"});G.css({display:"block"});var A=G.find("img").width();var z=G.find("img").height();if(G.find("img").width()>0&&G.find("img").width()<E.width){var y=E.width/A;A=A*y;z=z*y}if(G.find("img").height()>0&&G.find("img").height()<E.height){var y=E.height/z;A=A*y;z=z*y}if(A>E.width){G.find("img:first").css({position:"absolute",left:E.width/2-A/2+"px",width:A+"px",height:z+"px"})}if(z>E.height){G.find("img:first").css({position:"absolute",top:E.height/2-z/2+"px",width:A+"px",height:z+"px"})}if(G.data("transition")=="slide"){if(D==false){var l=true;if(H.index()>G.index()){l=false}if(l){C.animate({left:0-E.width+"px"},{duration:600,queue:false});G.find(".slide_container").css({opacity:"1.0",left:E.width+"px"});if(x.browser.msie){H.find(".slide_container").animate({left:0-E.width+"px"},{duration:600,queue:false});G.find(".slide_container").animate({left:"0px",top:"0px",opacity:"1.0"},{duration:600,queue:false})}else{H.find(".slide_container").cssAnimate({left:0-E.width+"px"},{duration:600,queue:false});G.find(".slide_container").cssAnimate({left:"0px",top:"0px",opacity:"1.0"},{duration:600,queue:false})}}else{C.animate({left:E.width+"px"},{duration:600,queue:false});G.find(".slide_container").css({opacity:"1.0",position:"absolute",top:"0px",left:0-E.width+"px"});if(x.browser.msie){H.find(".slide_container").animate({left:E.width+"px"},{duration:600,queue:false});G.find(".slide_container").animate({left:"0px",top:"0px",opacity:"1.0"},{duration:600,queue:false})}else{H.find(".slide_container").cssAnimate({left:E.width+"px"},{duration:600,queue:false});G.find(".slide_container").cssAnimate({left:"0px",top:"0px",opacity:"1.0"},{duration:600,queue:false})}}}}else{if(x.browser.msie){H.find(".slide_container").animate({opacity:"0"},{duration:600,queue:false})}else{H.find(".slide_container").cssAnimate({opacity:"0"},{duration:600,queue:false})}C.animate({opacity:"0.0"},{duration:600,queue:false});G.find(".slide_container").css({opacity:"0.0",left:"0px",top:"0px"});if(x.browser.msie){G.find(".slide_container").animate({opacity:"1.0"},{duration:600,queue:false})}else{G.find(".slide_container").cssAnimate({opacity:"1.0"},{duration:600,queue:false})}}var a=F.find(".paradigm_thumb_container #thumbmask .thumbsslide #thumb"+G.index()+" #over");F.find(".paradigm_thumb_container #thumbmask .thumbsslide #thumb"+H.index()).each(function(c){var g=x(this);if(g.attr("id")!="thumb"+G.index()){g.removeClass("selected");var e=g.find("#over");e.stop();e.css({position:"absolute"});e.find("img").css({position:"absolute",left:"0px"});if(x.browser.msie){e.animate({left:"0px",opacity:"0.0",height:E.thumbHeight+"px",width:E.thumbWidth+"px"},{duration:0,queue:false})}else{e.cssAnimate({left:"0px",opacity:"0.0",height:E.thumbHeight+"px",width:E.thumbWidth+"px"},{duration:0,queue:false})}if(x.browser.msie&&x.browser.version>7&&x.browser.version<9){e.css({display:"none"})}}});a.parent().addClass("selected");a.animate({opacity:"1.0"},{duration:300,queue:false});if(x.browser.msie&&x.browser.version>7&&x.browser.version<9){a.css({display:"block"})}F.data("currentSlide",G);F.data("currentThumb",a);m(G,100,F);E.cd=0}function p(S,R,Q){var P=Q;var O=P.data("opt");var N=P;var M=P.parent().data("currentSlide");var L=S-P.offset().left;var K=P.data("maxwidth");var J=L/K;if(J>1){J=1}if(J<-1){J=-1}var I=R-P.offset().top;var H=P.data("maxheight");var G=I/H;if(G>1){G=1}if(G<-1){G=-1}var F=P.data("pdistance");var E=P.data("pdistancey");var D=P.data("cdistance");var C=P.data("cdistancey");var B=M.find(".parallax_container .kb_container img:first");var A=B.width()-K;var z=B.height()-H;if(F>A){F=A}if(E>z){E=z}if(F<0){F=0;D=0}if(E<0){E=0;C=0}var y={};J=J-0.5;G=G-0.5;y.slideFactorX=F*J;y.slideFactorCX=D*J;y.slideFactorY=E*G;y.slideFactorCY=C*G;y.x=L;y.y=I;return y}function q(a,f){var e=a.find(".slide_mainmask");e.data("maxwidth",f.width+f.padleft+f.padright);e.data("maxheight",f.height+f.padtop+f.padbottom);e.data("pdistance",f.parallaxX);e.data("pdistancey",f.parallaxY);e.data("cdistance",f.captionParallaxX);e.data("cdistancey",f.captionParallaxY);e.data("opt",f);x("body").append('<div id="mpinfo" style="z-index:1000000;background-color:#fff;position:absolute;top:10px;left:10px;font-size:15px"></div>');e.mouseenter(function(i){var A=x(this);var z=A.parent().find(".paradigm_thumb_container #thumbmask");var y=A.parent().data("currentSlide");var l=y.find(".parallax_container");var k=y.find(".layer_container");var j=p(i.pageX,i.pageY,A);l.stop();k.stop();A.addClass("overon");l.css({left:parseInt(l.css("left"),0)+"px",top:parseInt(l.css("top"),0)+"px"});if(x.browser.msie){l.animate({left:0-j.slideFactorX+"px",top:0-j.slideFactorY+"px"},{duration:200,queue:false});k.animate({left:0-j.slideFactorCX+"px",top:0-j.slideFactorCY+"px"},{duration:200,queue:false})}else{l.cssAnimate({left:0-j.slideFactorX+"px",top:0-j.slideFactorY+"px"},{duration:200,queue:false});k.cssAnimate({left:0-j.slideFactorCX+"px",top:0-j.slideFactorCY+"px"},{duration:200,queue:false})}});e.mouseleave(function(h){var y=x(this);var l=y.parent().data("currentSlide");var k=l.find(".parallax_container");var j=l.find(".layer_container");y.removeClass("overme");var i=p(x(window).width()/2,x(window).height/2,y);y.addClass("overon");k.stop();j.stop();if(x.browser.msie){k.animate({left:0-i.slideFactorX+"px",top:0-i.slideFactorY+"px"},{duration:200,queue:false});j.animate({left:0-i.slideFactorCX+"px",top:0-i.slideFactorCY+"px"},{duration:200,queue:false})}else{k.cssAnimate({left:0-i.slideFactorX+"px",top:0-i.slideFactorY+"px"},{duration:200,queue:false});j.cssAnimate({left:0-i.slideFactorCX+"px",top:0-i.slideFactorCY+"px"},{duration:200,queue:false})}});e.mousemove(function(i){var A=x(this);A.addClass("overme");var z=A.parent().find(".paradigm_thumb_container #thumbmask");if(!z.hasClass("overme")&&!A.hasClass("overon")){var y=A.parent().data("currentSlide");var l=y.find(".parallax_container");var k=y.find(".layer_container");var j=p(i.pageX,i.pageY,A);if(j.y<A.data("maxheight")){l.stop();k.stop();if(x.browser.msie){l.css({left:0-j.slideFactorX+"px",top:0-j.slideFactorY+"px"});k.css({left:0-j.slideFactorCX+"px",top:0-j.slideFactorCY+"px"})}else{l.cssAnimate({left:0-j.slideFactorX+"px",top:0-j.slideFactorY+"px"},{duration:0,queue:false});k.cssAnimate({left:0-j.slideFactorCX+"px",top:0-j.slideFactorCY+"px"},{duration:0,queue:false})}}}else{setTimeout(function(){A.removeClass("overon")},100)}})}function r(a,f){if(x.browser.msie){a.find(".paradigm-preloader").animate({opacity:"0.0"},{duration:300,queue:false})}else{a.find(".paradigm-preloader").cssAnimate({opacity:"0.0"},{duration:300,queue:false})}setTimeout(function(){a.find(".paradigm-preloader").remove()},300);var e=a.find("ul li:first");o(e,e,a,f);q(a,f);f.loaded=1}function s(K,J){var I=K.find("ul >li").length;var H=J.thumbAmount*J.thumbWidth+(J.thumbAmount-1)*J.thumbSpaces;var G=J.thumbHeight;var F=H-J.thumbSpaces+2*J.thumbPadding;var E=G+2*J.thumbPadding;var D=J.width+J.padleft+J.padright;var C=Math.round(D/2-F/2);var B=I*J.thumbWidth+(I-1)*J.thumbSpaces;K.append('<div class="paradigm_thumb_container" style="position:absolute;left:'+C+"px;top:"+(J.height+J.padtop+J.padbottom-J.thumbPadding)+"px;width:"+(F+2)+"px;height:"+(E+2)+'px;overflow:hidden"></div>');var A=K.find(".paradigm_thumb_container");A.append('<div class="paradigm_thumb_container_bg" style="position:absolute;left:1px;top:1px;width:'+F+"px;height:"+E+'px;overflow:hidden"></div>');A.append('<div id="thumbmask" style="overflow:hidden;position:absolute;top:'+(J.thumbPadding+1)+"px;left:"+(J.thumbPadding+1)+"px; width:"+(H-J.thumbSpaces)+"px;\theight:"+J.thumbHeight+'px"></div>');var z=A.find("#thumbmask");z.append('<div class="thumbsslide" style="width:'+B+'px"></div>');var y=z.find(".thumbsslide");K.find("ul >li").each(function(T){var S=x(this);var R=S.find("img:first");var Q=R.data("thumb_bw");var P=R.data("thumb");var O=S.find(".slide_container").data("video")==1;var N=x('<div class="paradigm-thumbs" id="thumb'+T+'" style="cursor:pointer;position:absolute;top:0px;left:'+(T*J.thumbWidth+(T-1)*J.thumbSpaces)+"px;width:"+J.thumbWidth+"px;height:"+J.thumbHeight+"px;background:url("+Q+');"></div>');N.data("id",T);if(T==I){N.css({"margin-right":"0px"})}y.append(N);var M=x('<div id="over" style="cursor:pointer"><img id="over_img" src="'+P+'"></div>');N.append(M);var L=N.find("#over");L.css({opacity:"0.0"});if(x.browser.msie&&x.browser.version>7&&x.browser.version<9){L.css({display:"none"})}L.css({overflow:"hidden",position:"absolute",left:"0px",opacity:"0.0",height:J.thumbHeight+"px",width:J.thumbWidth+"px"});L.find("img").css({position:"absolute",left:"0px"});if(x.browser.msie){L.animate({left:"0px",opacity:"0.0",height:J.thumbHeight+"px",width:J.thumbWidth+"px"},{duration:50,queue:false});L.find("img").animate({left:"0px"},{duration:50,queue:false})}else{L.cssAnimate({left:"0px",opacity:"0.0",height:J.thumbHeight+"px",width:J.thumbWidth+"px"},{duration:50,queue:false});L.find("img").cssAnimate({left:"0px"},{duration:50,queue:false})}if(O){var d=x('<div class="video"></div>');N.append(d);N.find(".video").css({position:"absolute",top:J.thumbHeight/2+"px",left:J.thumbWidth/2+"px","z-index":"1000"})}if(J.shadow=="true"){var c=x('<div class="paradigm-repeatshadow" style="position:relative;margin-left:0px;margin-top:-59px;width:'+J.thumbWidth+'px"></div>');N.append(c)}var b=y.find("#thumb"+T);b.hover(function(){var e=x(this).find("#over");if(!e.parent().hasClass("selected")){if(x.browser.msie){if(x.browser.msie&&x.browser.version>7&&x.browser.version<9){e.css({display:"block"})}else{e.animate({opacity:"1.0"},{duration:300,queue:false})}}else{e.css({left:"0px",display:"block"});e.find("img").css({display:"block",opacity:"1.0",left:"0px"});e.cssAnimate({opacity:"1.0"},{duration:300,queue:false})}}},function(){var e=x(this).find("#over");if(!e.parent().hasClass("selected")){if(x.browser.msie){if(x.browser.msie&&x.browser.version>7&&x.browser.version<9){e.css({display:"none"})}else{e.animate({opacity:"0"},{duration:300,queue:false})}}else{e.cssAnimate({opacity:"0.0"},{duration:300,queue:false})}}});b.click(function(){var g=x(this);if(!g.hasClass("selected")){var f=K.find("ul li:eq("+g.data("id")+")");o(K.data("currentSlide"),f,K,J)}})});if(H<B){x(document).mousemove(function(c){x("body").data("mousex",c.pageX)});var j=B-H;K.data("thumbnailmaxdif",j);var a=j/(H-J.thumbWidth);z.data("steps",a);z.data("thw",J.thumbWidth);z.data("maxw",j);z.mouseenter(function(){var g=x(this);g.addClass("overme");var l=g.offset();var k=x("body").data("mousex")-l.left;k=k-g.data("thw")/2;var i=g.data("steps");var h=0-i*k;if(h>0){h=0}if(h<0-j){h=0-j}g.addClass("overon");g.find(".thumbsslide").css({position:"absolute"});if(x.browser.msie){g.find(".thumbsslide").animate({left:h+"px"},{duration:200,queue:false})}else{g.find(".thumbsslide").cssAnimate({left:h+"px"},{duration:200,queue:false})}});z.mousemove(function(){var g=x(this);g.addClass("overme");var l=g.offset();var k=x("body").data("mousex")-l.left;k=k-g.data("thw")/2;var i=g.data("steps");var h=0-i*k;if(h>0){h=0}if(h<0-j){h=0-j}if(!g.hasClass("overon")){g.find(".thumbsslide").css({position:"absolute"});if(x.browser.msie){g.find(".thumbsslide").animate({left:h+"px"},{duration:0,queue:false})}else{g.find(".thumbsslide").cssAnimate({left:h+"px"},{duration:0,queue:false})}}else{setTimeout(function(){g.removeClass("overon")},100)}});z.mouseout(function(){var c=x(this);c.removeClass("overme")})}}function t(a,B){if(B.shadow=="true"){var A=B.width+B.padleft+B.padright;var z=A/2;if(z>187){z=187}A=A-2*z;var y=x('<div class="paradigm-leftshadow" style="top:'+(B.height+B.padtop+B.padbottom)+"px;left:0px;width:"+z+'px"></div>');var l=x('<div class="paradigm-rightshadow" style="top:'+(B.height+B.padtop+B.padbottom)+'px;right:0px;"></div>');var k=x('<div class="paradigm-repeatshadow" style="top:'+(B.height+B.padtop+B.padbottom)+"px;left:"+z+"px;width:"+A+'px"></div>');a.append(y);a.append(k);a.append(l)}else{var j=a.find(".paradigm_thumb_container");alert(j)}}function u(e,d){e.append('<div class="paradigm-bg" style="z-index:7;position:absolute;top:0px;left:0px;width:'+d.width+"px;height:"+d.height+'px;overflow:hidden"></div>');var f=e.find(".paradigm-bg");d.padtop=parseInt(f.css("paddingTop"),0);d.padleft=parseInt(f.css("paddingLeft"),0);d.padright=parseInt(f.css("paddingRight"),0);d.padbottom=parseInt(f.css("paddingBottom"),0)}function v(a,d){a.find("ul").wrap('<div class="slide_mainmask" style="z-index:10;position:absolute;top:'+(d.padtop+0)+"px;left:"+(d.padleft+0)+"px;width:"+d.width+"px;height:"+d.height+'px;overflow:hidden"></div>');a.find("ul .slide_mainmask").css({opacity:"0.0"});d.maxitem=0;a.find("ul >li").each(function(c){d.maxitem=d.maxitem+1;var b=x(this);b.find(".creative_layer").wrap('<div class="layer_container" style="position:absolute;left:0px;top:0px;width:'+d.width+"px;height:"+d.height+'px"></div>');b.wrapInner('<div class="slide_container" style="z-index:10;position:absolute;top:0px;left:0px;width:'+d.width+"px;height:"+d.height+'px;overflow:hidden"><div class="parallax_container" style="position:absolute;top:0pxleft:0px"><div class="kb_container"></div></div></div>');b.find(".slide_container").css({opacity:"0.0"});b.find(".slide_container .parallax_container .kb_container .video_pradigm").each(function(){var C=x(this);C.closest(".slide_container").append('<div class="paradigm-video-overlay"></div>');C.closest(".slide_container").append('<div class="paradigm-video-button"></div>');C.closest(".slide_container").data("video",1);var B=C.closest(".slide_container").parent().find(".paradigm-video-button");var A=C.closest(".slide_container").parent().find(".paradigm-video-overlay");var z=parseInt(B.css("width"),0);var y=parseInt(B.css("height"),0);var l=parseInt(C.closest(".slide_container").css("width"),0);var k=parseInt(C.closest(".slide_container").css("height"),0);B.css({left:l/2-z/2+"px",top:k/2-y/2+"px"});B.data("top",a);B.data("url",C.html());C.remove();A.data("origopa",A.css("opacity"));B.hover(function(){var e=x(this);var f=e.parent().find(".paradigm-video-overlay");if(x.browser.msie){f.animate({opacity:"0.5"},{duration:100})}else{f.cssAnimate({opacity:"0.5"},{duration:100})}if(x.browser.version>7&&x.browser.version<9){f.css({display:"block"})}},function(){var e=x(this);var f=e.parent().find(".paradigm-video-overlay");if(x.browser.msie){f.animate({opacity:f.data("origopa")},{duration:100})}else{f.cssAnimate({opacity:f.data("origopa")},{duration:100})}if(x.browser.msie&&x.browser.version>7&&x.browser.version<9){f.css({display:"none"})}});B.click(function(){var g=x(this);var j=g.data("top");var i=j.find(".slide_mainmask");i.addClass("videoon");j.data("currentSlide").animate({top:d.height+"px"},{duration:500,queue:false});j.find(".slide_mainmask").append('<div class="video_paradigm" style="z-index:9999;width:'+d.width+"px;height:"+d.height+'px">'+g.data("url")+"</div>");var h=j.find(".slide_mainmask .video_paradigm");h.css({top:0-d.height+"px"});h.animate({top:"0px"},{duration:500,queue:false});h.find("* #close").click(function(){var e=j.find(".slide_mainmask");e.removeClass("videoon");j.data("currentSlide").animate({top:"0px"},{duration:600,queue:false});h.animate({top:0-d.height+"px"},{duration:600,queue:false});setTimeout(function(){h.remove()},600)})})})})}x.fn.extend({paradigm:function(a){var c={width:876,height:300,thumbWidth:90,thumbHeight:50,thumbAmount:6,thumbSpaces:4,thumbPadding:4,shadow:"true",parallaxX:200,parallaxY:50,captionParallaxX:50,captionParallaxY:25,timer:2000,touchenabled:"on"};a=x.extend({},x.fn.paradigm.defaults,a);return this.each(function(){var d=a;var b=x(this);b.append('<div class="paradigm-preloader"></div>');u(b,d);v(b,d);t(b,d);s(b,d);b.waitForImages(function(){r(b,d)});if(d.timer>0){n(b,d)}if(d.touchenabled=="on"){b.swipe({data:b,swipeLeft:function(){var f=b.data("currentSlide");if(f.index()<d.maxitem-1){var e=b.find("ul li:eq("+(f.index()+1)+")")}else{var e=b.find("ul li:first")}o(f,e,b,d)},swipeRight:function(){var f=b.data("currentSlide");if(f.index()>0){var e=b.find("ul li:eq("+(f.index()-1)+")")}else{var e=b.find("ul li:eq("+(d.maxitem-1)+")")}o(f,e,b,d)},allowPageScroll:"auto"})}})}})})(jQuery);